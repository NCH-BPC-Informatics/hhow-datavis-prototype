{"filter":false,"title":"test1.js","tooltip":"/test1.js","ace":{"folds":[],"scrolltop":120,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":160,"column":17},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"hash":"96525c564e7c3146e0fcf08e777129ddbfbf97ec","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":160,"column":17},"action":"insert","lines":["var tempBarChart  = dc.barChart(\"#barChartTemp\");","var psalBarChart = dc.barChart(\"#barChartPsal\");","","tempBarChart.yAxis().ticks(0); ","psalBarChart.yAxis().ticks(0);","\t","json = [{","\t\t\t\"temp\": 23,","\t\t\t\"psal\": 35","\t\t}, ","\t\t{","\t\t\t\"temp\": 23,","\t\t\t\"psal\": 35,","\t\t}, ","\t\t{","\t\t\t\"temp\": 23,","\t\t\t\"psal\": 30","\t\t}, ","\t\t{","\t\t\t\"temp\": 23,","\t\t\t\"psal\": 30","\t\t}, ","\t\t{","\t\t\t\"temp\": 23,","\t\t\t\"psal\": 33","\t\t}, ","\t\t{","\t\t\t\"temp\": 20,","\t\t\t\"psal\": 38","\t\t}, ","\t\t{","\t\t\t\"temp\": 22,","\t\t\t\"psal\": 33","\t\t}, ","\t\t{","\t\t\t\"temp\": 27,","\t\t\t\"psal\": 37","\t\t}, ","\t\t{","\t\t\t\"temp\": 21,","\t\t\t\"psal\": 34","\t\t}, ","\t\t{","\t\t\t\"temp\": 31,","\t\t\t\"psal\": 38","\t\t}, ","\t\t{","","\t\t\t\"temp\": 35,","\t\t\t\"psal\": 39","\t\t}, ","\t\t{","\t\t\t\"temp\": 32,","\t\t\t\"psal\": 31","\t\t}, ","\t\t{","","\t\t\t\"temp\": 32,","\t\t\t\"psal\": 31","\t\t}, ","\t\t{","\t\t\t\"temp\": 20,","\t\t\t\"psal\": 32","\t\t}, ","\t\t{","\t\t\t\"temp\": 29,","\t\t\t\"psal\": 31","\t\t}, ","\t\t{","\t\t\t\"temp\": 33,","\t\t\t\"psal\": 38","\t\t}, ","\t\t{","\t\t\t\"temp\": 21,","\t\t\t\"psal\": 34","\t\t}, ","\t\t{","\t\t\t\"temp\": 31,","\t\t\t\"psal\": 38","\t\t}, ","\t\t{","\t\t\t\"temp\": 35,","\t\t\t\"psal\": 39","\t\t}, ","\t\t{","\t\t\t\"temp\": 32,","\t\t\t\"psal\": 31","\t\t}, ","\t\t{","\t\t\t\"temp\": 21,","\t\t\t\"psal\": 34,","\t\t}, ","\t\t{","\t\t\t\"temp\": 31,","\t\t\t\"psal\": 38","\t\t}, ","\t\t{","\t\t\t\"temp\": 35,","\t\t\t\"psal\": 39","\t\t},","\t\t{","\t\t\t\"temp\": 40,","\t\t\t\"psal\": 35","\t\t}];","\t\t","\tvar xFilter = crossfilter(json);","\tvar totalReadings = xFilter.size();","\tvar all = xFilter.groupAll();","","    // Updated version ","    dc.dataCount(\".dc-data-count\")","\t\t\t\t.dimension(xFilter)","\t\t\t\t.group(all);","","\t","\t// dimensions and groups","\tvar tempDim = xFilter.dimension(function (d) { return d.temp; });","\tvar tempGroup = tempDim.group().reduceCount(function (d) { return d.temp; });","\t\t","\tvar psalDim = xFilter.dimension(function(d) {return d.psal;}); ","\tvar psalGroup= psalDim.group().reduceCount(function(d) {return d.psal;}); ","\tvar brush = d3.svg.brush();","\t\t","\t// Charts","\t\ttempBarChart\t","\t\t\t.width(300).height(150)\t\t\t","\t\t\t.dimension(tempDim) ","\t\t\t.group(tempGroup) \t","\t\t\t.x(d3.scale.linear()","\t\t\t\t.domain([15, 45])) \t\t\t\t\t","\t\t\t.xAxisLabel(\"Temperature\")","            .centerBar(true)","\t\t\t.on(\"brushstart\", brushed)","\t\t\t","\t\tpsalBarChart\t","\t\t\t.width(300).height(150)\t\t\t","\t\t\t.dimension(psalDim) ","\t\t\t.group(psalGroup) ","\t\t\t.x(d3.scale.linear()","\t\t\t\t.domain([25, 40])) \t\t","\t\t\t.xAxisLabel(\"Salinity\")","            .centerBar(true)","\t\t\t.on(\"brushstart\", brushed)","\t\t\t","\t\t// keep track of total readings","\t\td3.select(\"#total\").text(totalReadings);","\t\t","\t\t// First listener test","\t\tfunction brushed() {","\t\t\tconsole.log(\"brush test 1\");","\t\t\td3.select(\"#current\").text(all.value());","\t\t}","\t\t","\t\t// Second listener test","\t\tbrush.on(\"brushstart\", function() {","\t\t\tconsole.log(\"brush test 2\");","\t\t});","","\t\t\t","\t\t// render all charts","\t\tdc.renderAll();"],"id":1}]]},"timestamp":1435256063000}